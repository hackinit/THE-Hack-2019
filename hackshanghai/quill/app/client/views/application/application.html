<div id="application" class="page">
  <div class="divided title">
    参赛申请
  </div>

  <div class="ui stackable page grid">
    <div class="column">
      <div class="ui form" ng-class="{'loading': loading}">
        <div class="divided title">基本信息</div>
        <fieldset ng-disabled="regIsClosed">
          <div class="field" required>
            <label>邮件地址</label>
            <input type="email" name="email" disabled="disabled" ng-model="user.email">
          </div>

          <div class="field" required>
            <label>全名</label>
            <input type="text" name="name" ng-model="user.profile.name" placeholder="请填写你的法定全名">
          </div>

          <div class="field" required>
            <label>活动当天的年龄</label>
            <input type="text" name="age" ng-model="user.profile.age">
          </div>

          <div class="field" required>
            <label>性别</label>
            <select name="gender" ng-model="user.profile.gender">
              <option value="">请选择</option>
              <option value="M">男性</option>
              <option value="F">女性</option>
              <option value="O">其他</option>
              <option value="N">我倾向不回答</option>
            </select>
          </div>

          <div class="field">
            <label>所在城市</label>
            <input type="text" name="city" ng-model="user.profile.city" placeholder="你将从哪里出发前往上海？">
          </div>
        </fieldset>

        <div class="divided title">你的专业信息</div>
        <fieldset ng-disabled="regIsClosed">
          <div class="field" required>
            <label>你的当前职业</label>

            <div class="ui stackable grid">
              <div class="four wide column">
                <div class="ui radio checkbox">
                  <input type="radio" id="profession-student" name="profession" ng-model="user.profile.profession" value="S">
                  <label for="profession-student">我是一名学生</label>
                </div>
              </div>

              <div class="six wide column">
                <div class="ui radio checkbox">
                  <input type="radio" id="profession-work" name="profession" ng-model="user.profile.profession" value="W">
                  <label for="profession-work">我已工作 / 待业</label>
                </div>
              </div>
            </div>
          </div>

          <div ng-show="user.profile.profession == 'S'">
            <div class="field" ng-show="autoFilledSchool" required>
              <label>在读学校</label>
              <input class="ui input" disabled="disabled" ng-show="autoFilledSchool" ng-model="user.profile.study.school">
            </div>

            <div class="field" ng-show="!autoFilledSchool" required>
              <label>在读学校</label>
              <div id="school" class="ui search">
                <div class="ui input">
                  <input class="prompt" type="text" placeholder="the school or university you're visiting" name="school" ng-model="user.profile.study.school">
                </div>
                <div class="results"></div>
              </div>
            </div>

            <div class="field" required>
              <label>在读专业</label>
              <input type="text" placeholder="例如计算机科学、用户体验工程、电气工程等" name="subject-of-study" ng-model="user.profile.study.subject">
            </div>

            <div class="field" required>
              <label>已就读年份（年）</label>
              <select name="year-of-studies" ng-model="user.profile.study.yearOfStudies">
                <option value="">请选择</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
              </select>
            </div>

            <div class="field" required>
              <label>毕业年份</label>
              <select name="graduation-year" ng-model="user.profile.study.graduationYear">
                <option value="">请选择毕业年份</option>
                <option value="{{year}}" ng-repeat="year in graduationYears">{{year}}</option>
              </select>
            </div>

            <div class="field" required>
              <label>请简述你的技术栈及熟练程度</label>
              <textarea ng-model="user.profile.study.techStack"></textarea>
            </div>

          </div>

          <div ng-show="user.profile.profession == 'W'">
            <div class="field" required>
              <label>工作时长（年）</label>
              <input name="work-experience" type="number" min="0" max="100" ng-model="user.profile.work.experience">
            </div>

            <div class="field" required>
              <label>请简述你当前的工作内容及技术栈</label>
              <textarea ng-model="user.profile.work.techStack"></textarea>
            </div>

          </div>
        </fieldset>

        <div class="divided title">关于你</div>
        <fieldset ng-disabled="regIsClosed">
          <div class="field" required>
            <label>你是否需要交通补助？</label>
            <p>如果你从其他地方出发来到上海，hackShanghai 组委会将为你提供部分至全额的交通补贴。交通补贴将以转账的形式，在活动结束后30天内下发。符合补助条件的出行方式如下：</p>
            <ul>
              <li>上海市内：不提供交通补贴</li>
              <li>江浙沪地区：火车（G/D/C或其他，二等座）、汽车</li>
              <li>其他地区：火车（G/D/C或其他，二等座）、汽车、飞机</li>
            </ul>
            <p>
              <b>重要提示：</b> 为获得交通补助，你必须在活动现场的交通补助登记中心提交你的出行凭证原件。我们将会留存你的身份证复印件以完成可能的报税工作。
            </p>
            <div class="ui stackable grid">
              <div class="two wide column">
                <div class="ui radio checkbox">
                  <input id="travel-reimbursement-y" name="travel-reimbursement" type="radio" value="Y" ng-model="user.profile.travelReimbursement">
                  <label for="travel-reimbursement-y">我需要交通补助</label>
                </div>
              </div>
              <div class="two wide column">
                <div class="ui radio checkbox">
                  <input id="travel-reimbursement-n" name="travel-reimbursement" type="radio" value="N" ng-model="user.profile.travelReimbursement">
                  <label for="travel-reimbursement-n">我不需要交通补助</label>
                </div>
              </div>
            </div>
            <div ng-show="user.profile.travelReimbursement == 'Y'">
              <br>
              <p>
                请记住你的交通补助申请码：<b>{{travelFormId}}</b>。如果你通过申请审查，你需要使用这一编码获得你的交通补贴。
              </p>
            </div>
          </div>

          <div class="field" required ng-show="user.profile.travelReimbursement == 'Y'">
            <label>交通补助种类</label>
            <p>你将从哪个区域出发来到 hackShanghai ？</p>

            <select name="travel-reimbursement-type" ng-model="user.profile.travelReimbursementType">
              <option value="">请选择</option>
              <option value="S">上海</option>
              <option value="T">江浙沪地区</option>
              <option value="O">其他</option>
            </select>
          </div>

          <br>

          <div class="field">
            <label>你的领英（LinkedIn）地址</label>
            <input type="text" placeholder="https://linkedin.com/in/yourname" ng-model="user.profile.linkedin">
          </div>

          <div class="field">
            <label>你的 GitHub 地址</label>
            <input type="text" placeholder="https://github.com/yourname" ng-model="user.profile.github">
          </div>

          <div class="field" required>
            <label>请列举你有特别兴趣的产业、领域</label>
            <input name="interested-field" ng-model="user.profile.interested-field" placeholder="例如：人工智能、医疗科技、金融科技">
          </div>

          <div class="field" required>
            <label>I would describe myself as...</label>
            <select name="description" ng-model="user.profile.description">
              <option value="">-- Description? --</option>
              <option value="Engineer">Engineer</option>
              <option value="Designer">Designer</option>
              <option value="Entrepreneur">Entrepreneur</option>
            </select>
          </div>

          <div class="field" required>
            <label>Do you have an idea, yet?</label>
            <select name="idea" ng-model="user.profile.idea">
              <option value="">-- Idea? --</option>
              <option value="N">Not yet</option>
              <option value="S">Somewhat, yes</option>
              <option value="Y">Yes</option>
            </select>
          </div>

          <div class="field" required>
            <label>I'm interested in ...</label>
            <div class="inline fields">
              <div class="field" ng-repeat="(key, value) in tracks">
                <div class="ui checkbox">
                  <input type="checkbox" id="tracks-{{$index}}" ng-model="tracks[key]" />
                  <label for="tracks-{{$index}}">{{key}}</label>
                </div>
              </div>
            </div>
          </div>
        </fieldset>

        <div class="divided title">法务提示</div>
        <fieldset ng-disabled="regIsClosed">

          <div class="field" required>
            <label>《选手行为守则》</label>
            <div class="ui checkbox">
              <input type="checkbox" name="mlh-coc" value="Y" ng-model="user.profile.legal.mlh.coc">
              <label>我已阅读并同意 <a href="https://static.mlh.io/docs/mlh-code-of-conduct.pdf" target="_blank">选手行为守则</a></label>
            </div>
          </div>

          <div class="field" required>
            <label>Major League Hacking Terms and Conditions</label>
            <div class="ui checkbox">
              <input type="checkbox" name="mlh-terms" value="Y" ng-model="user.profile.legal.mlh.terms">
              <label>I agree to the terms of both the <a href="https://github.com/MLH/mlh-policies/tree/master/prize-terms-and-conditions" target="_blank">MLH Contest Terms and Conditions</a> and the <a href="https://mlh.io/privacy" target="_blank">MLH Privacy Policy</a>. Please note that you may receive pre and post-event informational e-mails and occasional messages about hackathons from MLH as per the MLH Privacy Policy.</label>
            </div>
          </div>

          <br>

          <div class="field" ng-hide="regIsClosed">
            <button type="submit" class="fluid ui purple button" ng-click="submitForm()">保存申请</button>
          </div>
        </fieldset>
        <br>
        <br>
      </div>
      <small class="field" required>
        <label></label> required fields
      </small>
    </div>
  </div>
</div>
